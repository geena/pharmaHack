<!DOCTYPE html>
<html lang="en">
<script type="text/javascript">
$(document).ready(function() {
  $(document).on('click', '#inflight', function(event) {
    if (document.getElementById('ordersinflight').style.display == 'none'){
      document.getElementById('ordersinflight').style.display = 'block';
    } else {
      if (document.getElementById('ordersinflight').style.display == 'block') {
        document.getElementById('ordersinflight').style.display = 'none';
      } else {
        $('#loading').show();
        if (document.getElementById('ordersinreview').style.display == 'block'){
          document.getElementById('ordersinreview').style.display = 'none';
        }
        document.getElementById('ordersinflight').style.display = 'block';
        $.ajax({
          url: "<%= Rails.application.routes.url_helpers.physician_inflight_path %>",
          type: 'GET',
          dataType: 'html',
          success: function( data ) {
            $('#ordersinflight').replaceWith($('#ordersinflight').html(data));
          },
          error: function(){
            alert('There are no current orders in flight.');
          },
          complete: function(){
            $('#loading').hide();
          }
        });
      }
    }
  });
});

$(document).ready(function() {
  $(document).on('click', '#inreview', function(event) {
    if (document.getElementById('ordersinreview').style.display == 'none'){
      document.getElementById('ordersinreview').style.display = 'block';
    } else {
      if (document.getElementById('ordersinreview').style.display == 'block') {
        document.getElementById('ordersinreview').style.display = 'none';
      } else {
        $('#loading').show();
        if (document.getElementById('ordersinflight').style.display == 'block'){
          document.getElementById('ordersinflight').style.display = 'none';
        }
        document.getElementById('ordersinreview').style.display = 'block';
        $.ajax({
          url: "<%= Rails.application.routes.url_helpers.physician_inreview_path %>",
          type: 'GET',
          dataType: 'html',
          success: function( data ) {
            $('#ordersinreview').replaceWith($('#ordersinreview').html(data));
          },
          error: function(){
            alert('There are no current orders in review.');
          },
          complete: function(){
            $('#loading').hide();
          }
        });
      }
    }
  });
});

$(document).on('click', '#inflight', function(event) {
  if (document.getElementById('ordersinflight').style.display == 'none'){
    document.getElementById('ordersinflight').style.display = 'block';
  } else {
    if (document.getElementById('ordersinflight').style.display == 'block') {
      document.getElementById('ordersinflight').style.display = 'none';
    } else {
      $('#loading').show();
      if (document.getElementById('ordersinreview').style.display == 'block'){
        document.getElementById('ordersinreview').style.display = 'none';
      }
      document.getElementById('ordersinflight').style.display = 'block';
      $.ajax({
        url: "<%= Rails.application.routes.url_helpers.physician_inflight_path %>",
        type: 'GET',
        dataType: 'html',
        success: function( data ) {
          $('#ordersinflight').replaceWith($('#ordersinflight').html(data));
        },
        error: function(){
          alert('There are no current orders in flight.');
        },
        complete: function(){
          $('#loading').hide();
        }
      });
    }
  }
});

$(document).on('click', '#inreview', function(event) {
    if (document.getElementById('ordersinreview').style.display == 'none'){
      document.getElementById('ordersinreview').style.display = 'block';
    } else {
      if (document.getElementById('ordersinreview').style.display == 'block') {
        document.getElementById('ordersinreview').style.display = 'none';
      } else {
        $('#loading').show();
        if (document.getElementById('ordersinflight').style.display == 'block'){
          document.getElementById('ordersinflight').style.display = 'none';
        }
        document.getElementById('ordersinreview').style.display = 'block';
        $.ajax({
          url: "<%= Rails.application.routes.url_helpers.physician_inreview_path %>",
          type: 'GET',
          dataType: 'html',
          success: function( data ) {
            $('#ordersinreview').replaceWith($('#ordersinreview').html(data));
          },
          error: function(){
            alert('There are no current orders in review.');
          },
          complete: function(){
            $('#loading').hide();
          }
        });
      }
    }
});
</script>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Jarvis</title>

	<!-- Bootstrap core CSS -->
	<link href="assets/css/bootstrap.css" rel="stylesheet">

	<!-- Custom styles for this template -->
	<link href="assets/css/main.css" rel="stylesheet">
	<link href="assets/css/font-awesome.min.css" rel="stylesheet">

	<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="assets/js/chart.js"></script>


	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->
  </head>

  <body>

  	<div class="navbar navbar-default navbar-fixed-top"style="width:100%;">
      <div class="container" style="width:100%;">
        <div id="hello" class="row" style="width:100%;">
          <%= link_to ("<h1>Jarvis</h1><h2>Physician</h2>").html_safe, 
          pharma_tech_index_path, { style: 'width:50%;display:inline-block;float:left;' } %>
          <div class="nav navbar-nav" style="padding-top:55px;width:120px;float:right;">
            <li class="active" style="width:120px;"><%= link_to 'New Order', new_order_path, { style: 'width:120px;display:inline-block;text-align:center;' } %></li>
          </div>
        </div>
      </div>
    </div>

    <br>
    <br>
    <br>
    <br>

    <img src="http://s11.postimg.org/v5j6c8tn7/loading.png" id="loading" style="width:100%;height:50%;display:none;" alt="Loading..."border="0" width="259" height="55"/>

    <div class="row" id="green" style="position:fixed;z-index:9999;width:100%;padding-top:0px;right:0;margin:0 auto;">
      <div id="inflight" class="col-xs-6 centered" style="border-right: 3px solid #ccc;">
       <h3> ORDERS IN FLIGHT</h3>
     </div>
     <div id="inreview" class="col-xs-6 centered">
      <h3>ORDERS FOR REVIEW</h3>
    </div>
  </div>

  <div class="container" id="ordersinflight" style="padding-top:80px;"></div>

  <div class="container" id="ordersinreview" style="padding-top:80px;"></div>

  <script src="assets/js/bootstrap.js"></script>
</body>
</html>